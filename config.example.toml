# AkiDB 2.0 Configuration File
# Copy this file to config.toml and customize as needed.
#
# Environment variables override these settings:
# - AKIDB_HOST, AKIDB_REST_PORT, AKIDB_GRPC_PORT
# - AKIDB_DB_PATH, AKIDB_LOG_LEVEL, AKIDB_LOG_FORMAT
# - AKIDB_METRICS_ENABLED, AKIDB_VECTOR_PERSISTENCE_ENABLED

[server]
# Server host address (default: "0.0.0.0")
host = "0.0.0.0"

# REST API port (default: 8080)
rest_port = 8080

# gRPC API port (default: 9090)
grpc_port = 9090

# Request timeout in seconds (default: 30)
timeout_seconds = 30

[database]
# SQLite database path (default: "sqlite://akidb.db")
# Can be relative or absolute path
path = "sqlite://akidb.db"

# Max connections in pool (default: 10)
max_connections = 10

# Connection timeout in seconds (default: 5)
connection_timeout_seconds = 5

[features]
# Enable metrics collection (default: true)
# Set to false to disable /metrics endpoint
metrics_enabled = true

# Enable vector persistence (default: true)
# Set to false for in-memory only (data lost on restart)
vector_persistence_enabled = true

# Enable auto-initialization of default tenant/database (default: true)
# Set to false if you want to manually create tenant/database
auto_initialize = true

[hnsw]
# HNSW M parameter (default: 32)
# Higher values = better recall, more memory
# Recommended range: 16-64
m = 32

# HNSW ef_construction parameter (default: 200)
# Higher values = better index quality, slower construction
# Recommended range: 100-400
ef_construction = 200

# Max document count threshold for HNSW (default: 10,000)
# Collections with fewer documents use brute-force search
threshold = 10000

[logging]
# Log level: trace, debug, info, warn, error (default: "info")
level = "info"

# Log format: json or pretty (default: "pretty")
# Use "json" for production deployments with log aggregation
format = "pretty"
